<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>API Misuse | Sarah Nadi</title> <meta name="author" content="Sarah Nadi"> <meta name="description" content="Ensuring that library APIs are correctly used"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?e0deba1fc8c35ba0d4d35608a9afd190"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?e3a7352ea63996f57fd2f1dbd16a81e5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://snadi.github.io/projects/api_misuse/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Sarah Nadi</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"></a> </li> <li class="nav-item "> <a class="nav-link" href="/students/">Students</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Research Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/bio/">Bio</a> </li> <li class="nav-item "> <a class="nav-link" href="/resources/">Resources</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">API Misuse</h1> <p class="post-description">Ensuring that library APIs are correctly used</p> </header> <article> <p>When developers use Application Programming Interfaces (APIs), they often make mistakes that can lead to bugs, system crashes, or security vulnerabilities. We refer to such mistakes as <i>misuses</i>. One example of a misuse is forgetting to call <code>close()</code> after opening a <code>FileInputStream</code> and writing to it.</p> <p>We study various types of API misuse.</p> <h3 id="general-java-api-misuse">General Java API Misuse</h3> <div class="row justify-content-sm-center"> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/projects/mubench-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/projects/mubench-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/projects/mubench-1400.webp"></source> <img src="/assets/img/projects/mubench.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="MuBench" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/projects/mudetect-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/projects/mudetect-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/projects/mudetect-1400.webp"></source> <img src="/assets/img/projects/mudetect.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="MuDetect" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>We created MUBench, a benchmark of existing Java API misuses against which we can evaluate several misuse-detectors. We systematically compared existing Java API-misuse detectors and identified weaknesses. This allowed us to design a new API misuse detector, <a href="https://github.com/stg-tud/mudetect" rel="external nofollow noopener" target="_blank">MuDetect</a>, that can achieve higher recall and precision. MuDetect allows us to mine API usage rules that involve method calls and preconditions. These usage rules are then used to find misuses in target projects. MuDetect uses a graph representation called an API Usage Graph (AUG) to represent different aspects of a method call such as the parameters that are required by a method, the types of those parameters, the order in which different method calls are invoked, the exceptions thrown by different method calls, objects that are returned by different method calls.</p> <h3 id="annotation-misuse-in-java">Annotation Misuse in Java</h3> <div class="justify-content-sm-center"> <div class="col-sm-4 mt-3 mt-md-0 justify-content-sm-center"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/projects/rvt-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/projects/rvt-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/projects/rvt-1400.webp"></source> <img src="/assets/img/projects/rvt.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Rule Validation Tool" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>While MuDetect focuses on method calls, there are other categories of APIs misuses as well, such as misuses that involve annotations. We built a <a href="https://github.com/ualberta-smr/generating-annotation-usage-rules" rel="external nofollow noopener" target="_blank">human-in-the-loop approach</a> that focuses on producing accurate Java annotation usage rules. For the ease of usability, these usage rules are packaged into a Maven plugin that can be used to catch bugs (similar to SpotBugs). Our tool is a complete pipeline that provides an easy way to mine and validate usage rules, and generate a misuse detector from confirmed rules.</p> <h3 id="java-cryptography-misuse">Java Cryptography Misuse</h3> <p>Through analyzing StackOverflow posts, GitHub repositories, and conducting two surveys of a total of 48 application developers, we collect the problems developers face with the current cryptography APIs and their suggestions for improvement. Some of our findings included that developers have problems choosing the correct algorithm to use and also want higher level abstractions such as tasks. To address these issues, we looked closer at the cryptography domain, and realized that there is a wide variety of cryptographic components and algorithms (e.g., ciphers, digests, signatures, etc.) and that each of these components comes with its own <em>variability</em>. For example, a cipher can be symmetric or asymmetric. If it is symmetric, it can operate on blocks or streams. Additionally, there are different modes of operations (e.g., ECB vs CBC) as well as different padding schemes. In order to deal with this huge variability space, we model cryptographic components using concepts from feature modeling. However, such components have many attributes. Additionally, some cryptography solutions may use multiple components at the same time. We, therefore, need additional modeling notations than those offered by basic feature modeling.</p> <p><a href="https://projects.eclipse.org/proposals/eclipse-cognicrypt" rel="external nofollow noopener" target="_blank">CogniCrypt</a> was built on the insights derived from these studies.</p> </article> <h2>Related Resources</h2> <ul> <li><a href="https://github.com/stg-tud/MUBench" rel="external nofollow noopener" target="_blank">MUBench Repository</a></li> <li><a href="https://github.com/stg-tud/mudetect" rel="external nofollow noopener" target="_blank">MUDetect Repository</a></li> <li><a href="https://github.com/ualberta-smr/generating-annotation-usage-rules" rel="external nofollow noopener" target="_blank">Annotation Usage Rule Generation Pipeline Repository</a></li> <li><a href="https://projects.eclipse.org/proposals/eclipse-cognicrypt" rel="external nofollow noopener" target="_blank">CogniCrypt Project</a></li> </ul> <h2>Related Publications</h2> <div class="publications"> <h2 class="bibliography">2023</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">SecDev</abbr></div> <div id="KrugerSecDev23" class="col-sm-8"> <div class="title">Securing Your Crypto-API Usage Through Tool Support - A Usability Study</div> <div class="author"> Stefan Krüger, Michael Reif, Anna-Katharina Wickert, <em>Sarah Nadi</em>, Karim Ali, Eric Bodden, Yasemin Acar, Mira Mezini, and Sascha Fahl</div> <div class="periodical"> <em>In IEEE Secure Development Conference (SecDev)</em>, 2023 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/KrugerSecDev23.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li></ol> <h2 class="bibliography">2022</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">CASCON</abbr></div> <div id="GulamiCASCON22" class="col-sm-8"> <div class="title">A Human-in-the-loop Approach to Generate Annotation Usage Rules: A Case Study with MicroProfile</div> <div class="author"> Mansur Gulami, Ajay Kumar Jha, <em>Sarah Nadi</em>, Karim Ali, Emily Jiang, and Yee-Kang Chang</div> <div class="periodical"> <em>In Annual International Conference on Computer Science and Software Engineering (CASCON ’22)</em>, 2022 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/GulamiCASCON22.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ICSME</abbr></div> <div id="NuryyevICSME22" class="col-sm-8"> <div class="title">Mining Annotation Usage Rules: A Case Study with MicroProfile</div> <div class="author"> Batyr Nuryyev, Ajay Kumar Jha, <em>Sarah Nadi</em>, Yee-Kang Chang, Emily Jiang, and Vijay Sundaresan</div> <div class="periodical"> <em>In Proceedings of the 38th IEEE International Conference on Software Maintenance and Evolution – Industry Track</em>, 2022 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/NuryyevICSME22.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li> </ol> <h2 class="bibliography">2019</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">MSR</abbr></div> <div id="AmannMSR19" class="col-sm-8"> <div class="title">Investigating Next-Steps in Static API-Misuse Detection</div> <div class="author"> Sven Amann, Hoan Nguyen, <em>Sarah Nadi</em>, Tien Nguyen, and Mira Mezini</div> <div class="periodical"> <em>In Proceedings of the 16th International Conference on Mining Software Repositories (MSR ’19) </em>, 2019 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/AmannMSR19.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li></ol> <h2 class="bibliography">2018</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">TSE</abbr></div> <div id="AmannTSE18" class="col-sm-8"> <div class="title">A Systematic Evaluation of Static API-Misuse Detectors</div> <div class="author"> Sven Amann, Hoan A. Nguyen, <em>Sarah Nadi</em>, Tien N. Nguyen, and Mira Mezini</div> <div class="periodical"> <em>IEEE Transactions on Software Engineering</em>, 2018 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/AmannTSE18.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li></ol> <h2 class="bibliography">2017</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ASE</abbr></div> <div id="KruegerASE17" class="col-sm-8"> <div class="title">CogniCrypt: Supporting Developers in using Cryptography</div> <div class="author"> Stefan Krüger, <em>Sarah Nadi</em>, Michael Reif, Karim Ali, Mira Mezini, Eric Bodden, Florian Göpfert, Felix Günther, Christian Weinert, Daniel Demmler, and Ram Kamath</div> <div class="periodical"> <em>In Proceedings of the 32nd IEEE/ACM International Conference on Automated Software Engineering (ASE ’17) – Tool Demo Track</em>, 2017 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/KruegerASE17.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li></ol> <h2 class="bibliography">2016</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ICSE</abbr></div> <div id="NadiICSE2016" class="col-sm-8"> <div class="title">"Jumping Through Hoops": Why do Java Developers Struggle with Cryptography APIs?</div> <div class="author"> <em>Sarah Nadi</em>, Stefan Krüger, Mira Mezini, and Eric Bodden</div> <div class="periodical"> <em>In Proceedings of the 38th International Conference on Software Engineering (ICSE ’16)</em>, 2016 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/NadiICSE2016.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">VaMoS</abbr></div> <div id="NADIVamos16" class="col-sm-8"> <div class="title">Variability Modeling of Cryptographic Components (Clafer Experience Report)</div> <div class="author"> <em>Sarah Nadi</em>, and Stefan Krüger</div> <div class="periodical"> 2016 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/NADIVamos16.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">MSR</abbr></div> <div id="AmannMSR16" class="col-sm-8"> <div class="title">MUBench: A Benchmark for API-Misuse Detectors </div> <div class="author"> Sven Amann, <em>Sarah Nadi</em>, Hoan A. Nguyen, Tien N. Nguyen, and Mira Mezini</div> <div class="periodical"> <em>In Proceedings of the 13th International Conference on Mining Software Repositories – Data Showcase Track (MSR ’16)</em>, 2016 </div> <div class="periodical"> </div> <div class="links"> <a href="/assets/pdf/pubs/AmannMSR16.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li> </ol> <h2 class="bibliography">2015</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ONWARD</abbr></div> <div id="ArztOnward2015" class="col-sm-8"> <div class="title">Towards Secure Integration of Cryptographic Software</div> <div class="author"> Steven Arzt, <em>Sarah Nadi</em>, Karim Ali, Eric Bodden, Sebastian Erdweg, and Mira Mezini</div> <div class="periodical"> <em>In Proceedings of the SIGPLAN Symposium on New Ideas in Programming and Reflections on Software at SPLASH (ONWARD ’15)</em>, 2015 </div> <div class="periodical"> (Acceptance Rate: 17/37 = 35%) </div> <div class="links"> <a href="/assets/pdf/pubs/ArztOnward2015.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Sarah Nadi. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: January 14, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>